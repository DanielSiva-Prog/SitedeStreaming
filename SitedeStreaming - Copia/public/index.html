<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="css.css">
    <title>Streaming</title>
</head>

<body>    
    <div class="container">
    <h1><i class="fa-solid fa-streaming"></i> Plataforma de Streaming</h1>

    <form id="form">
        <!-- Primeiro Select -->
        <select id="select1" required>
            <option value="">Selecione a Categoria de Streaming</option>
            <option value="serie">S√©rie</option>
            <option value="filme">Filme</option>
            <option value="anime">Anime</option>
            <option value="desenho">Desenho</option>
            <option value="documentario">Document√°rio</option>
        </select>

        <!-- Segundo Select -->
        <select id="select2" required>
            <option value="">Selecione uma op√ß√£o</option>
        </select>

        <input type="text" id="text" placeholder="Digite seu coment√°rio..." required>
        <button type="submit"><i class="fa-solid fa-paper-plane"></i> Enviar</button>
    </form>

    <!-- √Årea dos resultados -->
    <div id="Mensagem-area"></div>
    <div class="resultado" id="resultado">
        <p class="vazio">Nenhum coment√°rio informado</p>
    </div>
</div>

<script>
    const select1 = document.getElementById('select1');
    const select2 = document.getElementById('select2');
    const form = document.getElementById('form');
    const text = document.getElementById('text');
    const resultado = document.getElementById('resultado');
    const mensagem = document.getElementById('Mensagem-area');
    let editando = null;

    // Op√ß√µes de cada categoria
    const opcoes = {
        serie: ['Lucifer', 'The Walking Dead', 'Dexter', 'Doctor Who', "Grey's Anatomy"],
        filme: ['Homem Aranha', 'Rambo', 'Jurassic Park', 'De Volta Para o Futuro', 'Titanic'],
        anime: ['Dragon Ball Z', 'One Piece', 'My Hero Academia', 'Bungo Stray Dogs', 'One Punch Man'],
        desenho: ['Bob Esponja', 'Ben 10', 'Pica Pau', 'Jovens Titans', 'Hora de Aventura'],
        documentario: ['Animal Planet', 'Nosso Planeta', 'Pel√©', 'Terra da Noite', 'Os Parques Nacionais']
    };

    // Atualizar segundo select com base no primeiro
    select1.addEventListener('change', () => {
        const valor = select1.value;
        select2.innerHTML = '<option value="">Selecione uma op√ß√£o</option>';

        if (opcoes[valor]) {
            opcoes[valor].forEach(op => {
                const option = document.createElement('option');
                option.value = op.toLowerCase().replace(/\s+/g, '-');
                option.textContent = op;
                select2.appendChild(option);
            });
        }
    });

    // Envio do formul√°rio
    form.addEventListener('submit', (e) => {
        e.preventDefault();

        const categoria = select1.options[select1.selectedIndex].text;
        const escolha = select2.options[select2.selectedIndex].text;
        const comentario = text.value.trim();

        if (!categoria || !escolha || !comentario) return;

        if (editando) {
            editando.querySelector('.texto').textContent = comentario;
            editando = null;
        } else {
            // Remove mensagem "Nenhum coment√°rio informado"
            const vazio = resultado.querySelector('.vazio');
            if (vazio) vazio.remove();

            // Cria novo bloco de coment√°rio
            const div = document.createElement('div');
            div.classList.add('item');
            div.innerHTML = `
                <p class="texto">${comentario}</p>
                <p class="subtexto">${categoria} - ${escolha}</p>
                <button class="editar">‚úèÔ∏è</button>
                <button class="excluir">üóëÔ∏è</button>
            `;
            resultado.appendChild(div);

            // Bot√£o excluir
            div.querySelector('.excluir').addEventListener('click', () => {
                div.remove();
                select1.value = '';
                select2.innerHTML = '<option value="">Selecione uma op√ß√£o</option>';

                if (!resultado.querySelector('.item')) {
                    resultado.innerHTML = '<p class="vazio">Nenhum coment√°rio informado</p>';
                }
            });

            // Bot√£o editar
            div.querySelector('.editar').addEventListener('click', () => {
                text.value = div.querySelector('.texto').textContent;
                editando = div;
            });
        }

        form.reset();
        select2.innerHTML = '<option value="">Selecione uma op√ß√£o</option>';
    });
</script>

</script>
</html>